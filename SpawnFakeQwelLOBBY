local player = game.Players.LocalPlayer
local DandyStore = game.workspace.DandyStore
local character = player.Character or player.CharacterAdded:Wait()
local clonedDandyStore = DandyStore:Clone()

local dandyCharacter = character:Clone()
dandyCharacter.Parent = workspace
dandyCharacter.Name = "Dandy"

for _, part in pairs(dandyCharacter:GetChildren()) do
    if part:IsA("MeshPart") then
        part:Destroy()
    end
end

for _, part in pairs(clonedDandyStore:GetChildren()) do
    if part:IsA("MeshPart") then
        part.Parent = dandyCharacter
    end
end

local bodyJoint = dandyCharacter:FindFirstChild("Body") and dandyCharacter.Body:FindFirstChild("Joint")
if bodyJoint then
    bodyJoint.Part1 = dandyCharacter.Body
    bodyJoint.Part0 = dandyCharacter.HumanoidRootPart
end

clonedDandyStore:Destroy()

dandyCharacter:WaitForChild("HumanoidRootPart")
dandyCharacter:WaitForChild("Humanoid")

local humanoid = dandyCharacter:FindFirstChildOfClass("Humanoid")
if humanoid then
    local animation = Instance.new("Animation")
    animation.AnimationId = "rbxassetid://16496520991"

    local animator = humanoid:FindFirstChildOfClass("Animator")
    if not animator then
        animator = Instance.new("Animator")
        animator.Parent = humanoid
    end

    local animationTrack = animator:LoadAnimation(animation)
    animationTrack:Play()
end

dandyCharacter.HumanoidRootPart.NameTag.Adornee = dandyCharacter.Head
dandyCharacter.Head.TextureID = "rbxassetid://16496414911"
dandyCharacter.HumanoidRootPart.NameTag.Frame.UserName.Text = "(@Qwelver)"
dandyCharacter.HumanoidRootPart.NameTag.Frame.DisplayName.Text = "Qwelver"
dandyCharacter.HumanoidRootPart.NameTag.Frame.GroupRank.Visible = true
dandyCharacter.Humanoid.HipHeight = 1.169
